#!/usr/bin/env ruby

require_relative '../config/environment'

puts "\e[H\e[2J"
puts "Welcome to Tic Tac Toe!"
puts "How many human players for this game? (0, 1, or 2)"
num_human_players = gets.strip
until num_human_players == "0" || num_human_players == "1" || num_human_players == "2"
  puts "ERROR: #{num_human_players} is not a valid option. Please enter 0, 1, or 2" 
  num_human_players = gets.strip
end

computer_first = "n"
if num_human_players == "1"
  puts "Let computer go first? (y/N)"
  computer_first = gets.strip.downcase
  computer_first = 'n' if computer_first == ""
  until computer_first == "y" || computer_first == "n"
    puts "ERROR: #{computer_first} is not a valid option. Please enter y or n" 
    computer_first = gets.strip
  end
end

if num_human_players == "0"
  player_1 = Players::Computer.new('X')
  player_2 = Players::Computer.new('O')
elsif num_human_players == "1"
  player_1 = computer_first == "n" ? Players::Human.new('X') : Players::Computer.new('X')
  player_2 = computer_first == "n" ? Players::Computer.new('O') : Players::Human.new('O')
else
  player_1 = Players::Human.new('X')
  player_2 = Players::Human.new('O')
end